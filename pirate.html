<!DOCTYPE html>
<html> <head> <style>
  #search_traps{
    background-color: aquamarine;
  }
    .flex-container {
      display: flex;  flex-direction:row;
      background-color:rgb(153, 157, 241);
  }

.flex-container > div {  /*div children of the flex container*/
  background-color: #c79090; 
  margin: 10px;  padding: 20px;  font-size: 30px;
  }

/* Responsive layout */
@media (max-width: 600px) { 
	 .flex-container{
		 flex-direction:column;
		 background-color: rgb(95, 14, 52);
	  }
	}
</style>
<title>Webapps Assignment07</title>
<meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" 
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" 
    integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>

</head>



<body>
    <h3 class="display-3" style="border: 4px dashed royalblue;" >Find the treasure by Arthimalla Sri Lakshmi</h3>
		
    <div class="" id="target">
		<p class="lead" id="search_traps">Click on the locations to search for treasure, beware the traps</p>
        <p class = "lead" id="locations">Number of locations checked is zero</p>
        <p class = "lead" id="penalty">Penalty is zero</p>
        <p class = "lead" id="click_help">Click for help</p>
        <p class="lead" id="help">Help report</p>
	</div>
    <hr>
    <h6 class="display-4">game field</h6>
    <div class="container">
        <div class="row">
            <div class="col-md-2"><img src="treasure location.jpeg" id="0" alt="searchlocation" style="width:100px;height:100px;" onclick="check(0)"></div>
            <div class="col-md-2"><img src="treasure location.jpeg" id="1" alt="searchlocation" style="width:100px;height:100px;" onclick="check(1)"></div>
            <div class="col-md-2"><img src="treasure location.jpeg" id="2" alt="searchlocation" style="width:100px;height:100px;" onclick="check(2)"></div>
            <div class="col-md-2"><img src="treasure location.jpeg" id="3" alt="searchlocation" style="width:100px;height:100px;" onclick="check(3)"></div>
            <div class="col-md-2"><img src="treasure location.jpeg" id="4" alt="searchlocation" style="width:100px;height:100px;" onclick="check(4)"></div>
        </div>
        <br>
            <div class="row">
            <div class="col-md-2"><img src="treasure location.jpeg" id="5" alt="searchlocation" style="width:100px;height:100px;" onclick="check(5)"></div>
            <div class="col-md-2"><img src="treasure location.jpeg" id="6" alt="searchlocation" style="width:100px;height:100px;" onclick="check(6)"></div>
            <div class="col-md-2"><img src="treasure location.jpeg" id="7" alt="searchlocation" style="width:100px;height:100px;" onclick="check(7)"></div>
            <div class="col-md-2"><img src="treasure location.jpeg" id="8" alt="searchlocation" style="width:100px;height:100px;" onclick="check(8)"></div>
            <div class="col-md-2"><img src="treasure location.jpeg" id="9" alt="searchlocation" style="width:100px;height:100px;" onclick="check(9)"></div>
        </div>
        <br>
            <div class="row">
            <div class="col-md-2"><img src="treasure location.jpeg" id="10" alt="searchlocation" style="width:100px;height:100px;" onclick="check(10)"></div>
            <div class="col-md-2"><img src="treasure location.jpeg" id="11" alt="searchlocation" style="width:100px;height:100px;" onclick="check(11)"></div>
            <div class="col-md-2"><img src="treasure location.jpeg" id="12" alt="searchlocation" style="width:100px;height:100px;" onclick="check(12)"></div>
            <div class="col-md-2"><img src="treasure location.jpeg" id="13" alt="searchlocation" style="width:100px;height:100px;" onclick="check(13)"></div>
            <div class="col-md-2"><img src="treasure location.jpeg" id="14" alt="searchlocation" style="width:100px;height:100px;" onclick="check(14)"></div>
        </div>
        <br>
            <div class="row">
            <div class="col-md-2"><img src="treasure location.jpeg" id="15" alt="searchlocation" style="width:100px;height:100px;" onclick="check(15)"></div>
            <div class="col-md-2"><img src="treasure location.jpeg" id="16" alt="searchlocation" style="width:100px;height:100px;" onclick="check(16)"></div>
            <div class="col-md-2"><img src="treasure location.jpeg" id="17" alt="searchlocation" style="width:100px;height:100px;" onclick="check(17)"></div>
            <div class="col-md-2"><img src="treasure location.jpeg" id="18" alt="searchlocation" style="width:100px;height:100px;" onclick="check(18)"></div>
            <div class="col-md-2"><img src="treasure location.jpeg" id="19" alt="searchlocation" style="width:100px;height:100px;" onclick="check(19)"></div>
        </div>
        <br>
            <div class="row">
            <div class="col-md-2"><img src="treasure location.jpeg" id="20" alt="searchlocation" style="width:100px;height:100px;" onclick="check(20)"></div>
            <div class="col-md-2"><img src="treasure location.jpeg" id="21" alt="searchlocation" style="width:100px;height:100px;" onclick="check(21)"></div>
            <div class="col-md-2"><img src="treasure location.jpeg" id="22" alt="searchlocation" style="width:100px;height:100px;" onclick="check(22)"></div>
            <div class="col-md-2"><img src="treasure location.jpeg" id="23" alt="searchlocation" style="width:100px;height:100px;" onclick="check(23)"></div>
            <div class="col-md-2"><img src="treasure location.jpeg" id="24" alt="searchlocation" style="width:100px;height:100px;" onclick="check(24)"></div>
        </div>
        
    </div>
    <div>
      <button onclick="bonusGame()">Bonus Game</button>
  </div>
  <script>
      var ids = [ "loc0" ,"loc1" ,"loc2" ,"loc3" ,"loc4" ,
                  "loc5" ,"loc6" ,"loc7" ,"loc8" ,"loc9" , 
                  "loc10","loc11","loc12","loc13","loc14", 
                  "loc15","loc16","loc17","loc18","loc19", 
                  "loc20","loc21","loc22","loc23","loc24"];
      var checkCount = 0;
      var penalty = 0;
      var lastCheck = 0;
      var treasureLocation = 5;
      var trapLocation = 18;
      var gameOver = false;

      function check(position) {

          if (gameOver) {
              return;
          }
          var id = ids[position];
          var img = document.getElementById(id);

          if (position == treasureLocation) {
              img.src = "gold-treasure.jpg";
              gameOver = true;
              penalty = penalty - 3;
          }
          else if (position == trapLocation) {
              img.src = "trap.jpg";
              gameOver = true;
              penalty = penalty + 4;
          }
          else {
              img.src = "weapons.jpg";
          }

          checkCount++;
          penalty++;
          var id_location = document.getElementById("locations");
          id_penalty = document.getElementById("penalty");
          id_location.innerHTML = `Number of locations checked is  ${checkCount}`;
          id_penalty.innerHTML = `Penalty is ${penalty}`;
          lastCheck = position;
      }

      function help() {

          console.log("triggered");
          let col = treasureLocation % 5;
          let row = Math.floor((treasureLocation) / 5);
          let col1 = lastCheck % 5;
          let row1 = Math.floor((lastCheck) / 5);

          let rowDiff = Math.abs(row - row1);
          let colDiff = Math.abs(col - col1);

          if ((rowDiff === 1 && colDiff === 0) || (rowDiff === 0 && colDiff === 1)) {
              console.log("can smell triggered");
              document.getElementById("help").textContent = 'Can smell it';
          }
          else if (rowDiff + colDiff === 2) {
              console.log("close matie");
              document.getElementById("help").textContent = 'Close Matie';
          }
          else {
              console.log("step faster");
              document.getElementById("help").textContent = 'Step Faster';
          }
          penalty += 2;
          id_penalty.innerHTML = `Penalty is ${penalty}`;
      }

      function bonusGame(){
          treasureLocation = Math.floor(Math.random() * 25);
          trapLocation = Math.floor(Math.random() * 25);
          for(let i=0; i<24; i++){
              if(i === trapLocation){
                  id = document.getElementById(ids[i]);
                  id.src = "trap.jpg";
              }
              else if(i === treasureLocation){
                  id = document.getElementById(ids[i]);
                  id.src = "gold-treasure.jpg";
              }
              else{
                  id = document.getElementById(ids[i]);
                  id.src = "Location.jpg";
              }

          }
      }
      id_location.innerHTML = `Number of locations checked is  ${checkCount}`;
      id_penalty.innerHTML = `Penalty is ${penalty}`;
  </script>
</body>
</html>
	

<script>
	function makeNewDiv(){
		
		let element = document.createElement("div")
		element.innerHTML = "an item after 3"
		element.style.color = "orange"

		let container = document.getElementById('target')
		container.appendChild(element)
		
	}
</script>

</body>
</html>